# ============================================================================
# API Gateway 环境变量配置示例
# ============================================================================
# 用途：本地开发时的环境变量模板
# 使用：复制此文件为 .env 用于本地 Cargo 开发
#
# 注意：
# - Docker 环境使用 docker-compose.yml 中定义的环境变量
# - CI 环境使用 docker-compose.yml 中定义的环境变量
# - 此文件主要用于本地 Cargo 开发和 SQLx 编译时工具
# ============================================================================

# ----------------------------------------------------------------------------
# SQLx 配置
# ----------------------------------------------------------------------------
# 设置为 false 以启用 SQLx 编译时数据库检查
# 设置为 true 使用离线模式（不需要数据库连接）
SQLX_OFFLINE=false

# ----------------------------------------------------------------------------
# 数据库配置
# ----------------------------------------------------------------------------
# PostgreSQL 连接 URL
# 格式: postgres://用户名:密码@主机:端口/数据库名
#
# 本地开发端口: 10035 (映射自 docker-compose.yml)
# Docker 内部端口: 5432
DATABASE_URL=postgres://echo_user:echo_password@localhost:10035/echo_db

# ----------------------------------------------------------------------------
# Redis 配置
# ----------------------------------------------------------------------------
# Redis 连接 URL
# 格式: redis://[:密码@]主机:端口
#
# 本地开发端口: 10036 (映射自 docker-compose.yml)
# Docker 内部端口: 6379
REDIS_URL=redis://:redis_password@localhost:10036

# ----------------------------------------------------------------------------
# 日志配置
# ----------------------------------------------------------------------------
# Rust 日志级别
# 可选值: trace, debug, info, warn, error
RUST_LOG=info

# ============================================================================
# 说明
# ============================================================================
#
# 运行时配置来源：
# 1. Docker Compose 环境：使用 docker-compose.yml 中的 environment 配置
# 2. 本地 Cargo 开发：使用此 .env 文件 + 代码中的硬编码默认值
# 3. CI 环境：使用 docker-compose.yml 中的配置
#
# SQLx 工具使用：
# - cargo sqlx prepare: 需要 DATABASE_URL 和 SQLX_OFFLINE=false
# - cargo sqlx migrate run: 需要 DATABASE_URL
# - cargo build (offline mode): 需要 SQLX_OFFLINE=true
#
# 其他配置（如 JWT_SECRET、SERVER_PORT 等）在代码中硬编码，
# 无需在此文件中设置。
# ============================================================================
